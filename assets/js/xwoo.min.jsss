jQuery(document).ready(function(e){function a(a){e(a).length>1?e(a).show():(e(a).hide(),".removeproductRewards"==a&&e(".reward_group").show(),".removeproductupdate"==a&&e("#product_update_field").show()),e(a).first().hide()}e("#addreward").on("click",function(n){n.preventDefault(),e("#rewards_addon_fields").append(e(".reward_group").html()),a(".removeproductRewards")}),e("body").on("click",".removeproductRewards",function(n){n.preventDefault(),e(this).closest(".product_rewards_field_copy").html(""),a(".removeproductRewards")}),a(".removeproductRewards"),e("#addproductupdate").on("click",function(n){n.preventDefault();var t=e("#product_update_field").html();e("#product_update_addon_field").append(t),a(".removeproductupdate")}),e("body").on("click",".removeproductupdate",function(n){n.preventDefault(),e(this).closest(".product_update_field_copy").html("").hide(),a(".removeproductupdate")}),a(".removeproductupdate"),e(".show_if_neo_xwoo_options").hide(),e("#product-update-status-meta").hide(),e("body").on("change","select#product-type",function(){"xwoo"==this.value?(e("ul.product_data_tabs li").removeClass("active"),e(".panel").hide(),e(".show_if_neo_xwoo_options").show(),e(".general_tab").addClass("active").show(),e("#general_product_data").show(),e("#product-update-status-meta").show()):(e(".show_if_neo_xwoo_options").hide(),e("#product-update-status-meta").hide())}),"xwoo"==e("select#product-type").val()&&(e(".show_if_neo_xwoo_options").show(),e("#product-update-status-meta").show()),void 0!==e.fn.select2&&e("select.select2").select2(),void 0!==e.fn.datepicker&&e("#_nf_duration_start, #_nf_duration_end").datepicker({dateFormat:"dd-mm-yy"}),e("body").on("click",".xwoo-image-upload-btn",function(a){a.preventDefault();var n=e(this),t=wp.media({title:"Upload Image",multiple:!1}).open().on("select",function(a){var o=t.state().get("selection").first(),i=o.toJSON().url;o=o.toJSON().id,e(n).parent().find(".xwoo_rewards_image_field").val(o),e(n).parent().find(".xwoo-image-container").html('<img width="100" src="'+i+'" ><span class="xwoo-image-remove">x</span>')})}),e("body").on("click",".xwoo-image-remove",function(a){var n=e(this);e(n).parent().parent().find(".xwoo_rewards_image_field").val(""),e(n).parent().parent().find(".xwoo-image-container").html("")}),e(".xwoo-color-field").wpColorPicker(),e(document).on("click","a.xwoo-reset-btn",function(){if(!confirm("[WARNING!] This will be reset your full settings, Are you sure?"))return!1;e.ajax({type:"POST",url:ajaxurl,data:{action:"xwoo_settings_reset"},success:function(e){window.location.reload(!0)}})}),e(document).on("change",".xwoo_extensions_list_item",function(a){var n=e(this),t=n.prop("checked")?1:0,o=n.attr("name");e.ajax({url:ajaxurl,type:"POST",data:{isEnable:t,addonFieldName:o,action:"xwoo_addon_enable_disable"},success:function(e){e.success}})})});